---
layout: layout/home.html
---


<main>
    <section id="bannerSection" style="display: flex; align-items: center; justify-content: space-between; gap: 3rem; text-align: center; padding: 2rem">
        <div>
            <h2>The <span style="color:var(--primary-color, #00C0E9)">PEAK</span> of Mobile Auto Detailing Services in San Diego, CA!</h2>
            <hr>
            <p style="font-size:1.2em">
                Even though there's no snow in San Diego, we'll make sure your car is shining like a <span style="font-size: 1.4em; font-family: Birthstone; color:#00C0E9">fresh</span> snowfall! We offer 
                exterior and interior cleaning, paint correction, ceramic coating, and more! Interested?
            </p>
            <div style="display:flex; justify-content: center;">
                <a class="navigationalButton" href="/contact">Book Now!</a>
            </div>
        </div>
        <figure style="display: flex; flex-direction: column; align-items: center;">
            <img id="bannerImg" src="/.netlify/images?url=/images/logo-banner.png&h=400&q=85" height="275" alt="Summit Detailing logo banner">
            <figcaption><p>Summit Detailing was created by a poor college student after seeing his friend's dirty car. He just couldn't take the eyesore anymore and decideded to do something about it. Summit Detailing offers affordable and excellent services for your car!</p></figcaption>
        </figure>
    </section>
    <section>
        <div style="padding: 0 1rem; display: flex; justify-content: end; gap: 1rem">
            <button style="background-color: var(--secondary-color); border-radius: 0.6rem 0.6rem 0 0; font-size: 0.7rem" onclick="handleLocal()">Load Local</button>
            <button style="background-color: var(--secondary-color); border-radius: 0.6rem 0.6rem 0 0; font-size: 0.7rem" onclick="handleRemote()">Load Remote</button>
        </div>
        <services-carousel>
            <!-- <services-card>
                <img class="carousel-image" src="/.netlify/images?url=/images/supra.avif&w=400&nf_resize=smartcrop&q=85" alt="example washed car" draggable="false">
                <div>
                    <h3>Exterior Package</h3>
                    <p>
                        Our exterior package includes a full wash and wax of your vehicle. We'll make sure your car is shining like new and looking <em>delicious</em> like this burgermobile!
                    </p>
                    <details>
                        <summary>What's Included?</summary>
                        <ol>
                            <li>Hand Wash w/ Microfiber Mitt and Snow Foam Soap</li>
                            <li>Wheel and Tire Cleaning</li>
                            <li><dfn>Tire Dressing</dfn></li>
                            <li>Window Cleaning</li>
                            <li>Light spray wax for paint protection</li>
                        </ol>
                    </details>
                    <aside>
                        <p>
                            Starting Price: $100
                            <br>
                            Add-Ons include: Clay Bar and Iron Decontamination, Paint Correction, Ceramic Coating
                        </p>
                    </aside>
                </div>
            </services-card>
            <services-card>
                <img class="carousel-image" src="/.netlify/images?url=/images/truckdog.avif&w=400&nf_resize=smartcrop&q=85" alt="example interior car" draggable="false">
                <div>
                    <h3>Interior Package</h3>
                    <p>
                        Our interior package includes a full vacuum and shampoo of your vehicle.
                    </p>
                    <details>
                        <summary>What's Included?</summary>
                        <ol>
                            <li>Full Vacuum</li>
                            <li>Shampoo of Seats and Carpets</li>
                            <li>Dashboard, Console, and Door Panel wipedown</li>
                            <li>Interior Window and Mirror Cleaning</li>
                        </ol>
                    </details>
                    <aside>
                        <p>
                            Starting Price: $150
                            <br>
                            Add-Ons include: Leather Conditioning, Odor Removal, Stain Removal
                        </p>
                    </aside>
                </div>
            </services-card>
            <services-card>
                <img class="carousel-image" src="/.netlify/images?url=/images/corvette.avif&w=400&nf_resize=smartcrop&q=85" alt="example full detail car" draggable="false">
                <div>
                    <h3>Full Detail Package</h3>
                    <p>
                        Our full detail package includes both the exterior and interior packages. We'll make sure your car is standings out from the rest of the crowd like a star in the night sky!
                    </p>
                    <aside>
                        <p>
                            Starting Price: $190
                        </p>
                    </aside>
                </div>
            </services-card>
            <services-card>
                <img class="carousel-image" src="/.netlify/images?url=/images/hatches.avif&w=400&nf_resize=smartcrop&q=85" alt="example ceramic coating" draggable="false">
                <div>
                    <h3>Ceramic Coating</h3>
                    <p>
                        Our ceramic coating includes an exterior wash, clay bar treatment, iron decontamination, and paint correction!
                    </p>
                    <aside>
                        <p>
                            Starting Price: $700
                        </p>
                    </aside>
                </div>
            </services-card>
            <services-card>
                <img class="carousel-image" src="/.netlify/images?url=/images/bananatruck.avif&w=400&nf_resize=smartcrop&q=85" alt="example paint correction" draggable="false">
                <div>
                    <h3>Paint Correction</h3>
                    <p>
                        Our paint correction includes an exterior wash, clay bar treatment, iron decontamination, polish, compound, and wax!
                    </p>
                    <aside>
                        <p>
                            Starting Price: $400
                        </p>
                    </aside>
                </div>
            </services-card> -->
        </services-carousel>
    </section>
    <section style="padding: 2em">
        <h3 style="margin: 0">Testimonials</h3>
        <div style="display: flex; flex-direction: row; flex-wrap: wrap;">
            <blockquote>
                <h4>Spongebob Squarepant's Cousin</h4>
                <p>
                    "I've never seen my car look so clean! I'm definitely coming back for more!"
                </p>
            </blockquote>
            <blockquote>
                <h4>Patrick Star</h4>
                <p>
                    "I can't believe how good my car looks! I'm definitely going to recommend Summit Detailing to all my friends!"
                </p>
            </blockquote>
            <blockquote>
                <h4>Squidward Tentacles</h4>
                <p>
                    "I'm so happy with the results! I'm definitely going to be a repeat customer!"
                </p>
            </blockquote>
        </div>
    </section>
</main>
<script>
    class ServiceCard extends HTMLElement {
        constructor() {
        super();
        }

        connectedCallback() {

            const imagesrc = this.getAttribute('image-src');
            const imagealt = this.getAttribute('image-alt');
            const title = this.getAttribute('title');
            const description = this.getAttribute('description');
            const includedItems = this.getAttribute('includedItems') || '-1';
            const price = this.getAttribute('price');
            const addons = this.getAttribute('add-ons') || '-1';

            // console.log(includedItems);

            const includedItemsList = includedItems.split(',').map(item => `<li>${item}</li>`).join('');
            const addonsList = addons.split(',').map(addon => `<li>${addon}</li>`).join('');
            // console.log(includedItemsList);

            const linkUrl = title.toLowerCase().replaceAll(' ', '-');

            this.innerHTML = `
            <picture>
                <img class="carousel-image" src="${imagesrc}" alt="${imagealt}" draggable="false">
            </picture>
            <div>
                <h3>${title}</h3>
                <p><strong>Starting Price: $${price}</strong></p>
                <p>${description}</p>
                <div style="padding-bottom: 1rem; display: flex; justify-content: center;">
                    <a class="cardLink" href="/services/${linkUrl}">Learn More</a>
                </div>
                ${includedItems == '-1' ? "" : "<details><summary>What's Included?</summary><ul>" + includedItemsList + "</ul></details>"}
                <aside>
                <p>
                    ${addons == '-1' ? "": "Add-Ons:"+ addonsList}
                </p>
                </aside>
            </div>
            `;

        }
    }
    customElements.define('services-card', ServiceCard);


    function populateCards(data) {
        const carousel = document.querySelector('services-carousel');
        data.forEach(service => {
            // console.log(service);
            const card = document.createElement('services-card');
            card.setAttribute('image-src', service.image);
            card.setAttribute('image-alt', service.alt);
            card.setAttribute('title', service.title);
            card.setAttribute('description', service.description);
            if (service.includedItems) {
                card.setAttribute('includedItems', service.includedItems);
            }
            card.setAttribute('price', service.price);
            if (service.addOns) {
                card.setAttribute('add-ons', service.addOns);
            }
            carousel.appendChild(card);
        });
    }

    function handleLocal() {
        const jsonData = localStorage.getItem("servicesData");
        if (jsonData) {
            console.log("local data found");
            populateCards(JSON.parse(jsonData));
        } else {
            alert("No local data found!");
        }
    }

    function handleRemote() {
        binId = "67cf2a8f8561e97a50e97fd6";
        apiKey = "$2a$10$T96PmOWT.JTYsv20Na6GveotrFhYnSBgmIaXbOYrb0eGGaDLft8.q";
        const xhr = new XMLHttpRequest();
        xhr.onreadystatechange = () => {
            if (xhr.readyState == XMLHttpRequest.DONE) {
                const data = JSON.parse(xhr.responseText);
                // console.log(data.record);
                localStorage.setItem("servicesData", JSON.stringify(data.record));
                populateCards(data.record);
            }
        };
        xhr.open("GET", `https://api.jsonbin.io/v3/b/${binId}/latest`, true);
        xhr.setRequestHeader("X-Master-Key", apiKey);
        xhr.send();
    }

    
</script>